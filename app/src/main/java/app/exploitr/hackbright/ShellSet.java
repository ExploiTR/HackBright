package app.exploitr.hackbright;


import android.support.design.widget.Snackbar;
import android.view.View;

class ShellSet {

    private String mPath;
    private View mView;
    private Process process;

    ShellSet(View decorView, String path) {
        this.mView = decorView;
        this.mPath = path;
    }

    void setBrightness(final Integer value) {

        new Thread(new Runnable() {
            @Override
            public void run() {
                try {
                    process = Runtime.getRuntime().exec("su -c echo " + value + " > " + mPath);
                    process.waitFor();
                } catch (Exception e) {
                    e.printStackTrace();
                }
                if (process.exitValue() == 0) {
                    Snackbar.make(mView, "Brightness Set To : " + value, Snackbar.LENGTH_SHORT).show();
                    process.destroy();
                } else {
                    Snackbar.make(mView, "Error", Snackbar.LENGTH_SHORT).show();
                    process.destroy();
                }
            }
        }).start();
        System.out.println("INPUT " + value);
        System.out.println("XPATH" + mPath);
    }

}
